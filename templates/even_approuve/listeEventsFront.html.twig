{% extends 'base1Front.html.twig' %}

{% block title %}Liste des événements approuve index{% endblock %}

{% block body %}
<head>
    <link rel="stylesheet" href="{{ asset('theme/css/style.css') }}" >
</head>

    <body>
<br><br>

    <!-- product list part start-->
    <div class="right" style="margin-top: 2rem;">
        <table>
            <tr>
                <td>

                    <div class="select_option">
                        <div class="select_option_list" style="width: 350px; margin-bottom: 2rem; margin-left: 100px;">Lieux <i class="right fas fa-caret-down"></i>
                        </div>
                        {% for lieu in lieux  %}
                            <div class="select_option_dropdown" style="margin-left: 100px; width: 350px;" >
                                <p><a href="{{ path('even_approuve_evenLieu', {'id':lieu.id}) }}">{{ lieu.titreLieu }}</a></p>
                            </div>
                        {% endfor %}
                    </div>


                </td>
                <td><p style=" margin-left: 50px;">Heure:</p></td>
                <td>
                    <form action="croissantHeure" method="get" >
                        <button class="btn btn-light" type="submit" style="margin-left: 00px; background-color: #F9966B;" ><i class="fas fa-arrow-circle-up"></i></button>
                    </form>
                </td>
                <td>

                    <form action="decroissantHeure" method="get" >
                        <button class="btn btn-light" type="submit" style="margin-left: 0px; background-color: #F9966B;"><i class="fas fa-arrow-circle-down"></i></button>
                    </form>
                </td>
                <td><p style=" margin-left: 60px;">Date:</p></td>
                <td>
                    <form action="croissant" method="get" >
                        <button class="btn btn-light" type="submit" style="background-color: #F9966B;"><i class="fas fa-arrow-circle-up"></i></button>
                    </form>
                </td>
                <td>

                    <form action="decroissant" method="get" >
                        <button class="btn btn-light" type="submit" style="background-color: #F9966B;"  ><i class="fas fa-arrow-circle-down"></i></button>
                    </form>
                </td>
            </tr>
        </table>
    </div>

<div class="container">
    <div class="row">
        <div class="col-md-4 ">
            {% if is_granted('ROLE_USER') %}
                <a href="/even/non/approuve/new" >

                    <button class="btn btn-light" style=" height: 50px; width: 340px; background-color: #F9966B; color: #ffffff;">Informer à propos un événement</button>


                </a>
                {% else %}

                    <a href="/login" >

                        <button class="btn btn-light" style=" height: 50px; width: 340px; background-color: #F9966B; color: #ffffff;">Informer à propos un événement</button>


                    </a>
            {% endif %}

        </div>
        <div class="col-md-4">
            <a href="{{ path('meilleurPlan') }}">
                <button class="btn btn-light" style="background-color: #27AE60; color: #ffffff; width: 120px; height: 47px;">Meilleur plan</button>
            </a>
            <a href="{{ path('aEviter') }}">
                <button class="btn btn-light" style="background-color: #201C1C; color: #ffffff; width: 120px; height: 47px;">A éviter</button>
            </a>

        </div>
        <div class="col-md-4">

                <input type="text" id="search" class="form-control" placeholder="Search">

        </div>
    </div>
</div>
<br><br>
            <div class="row" id="all" >
            {% for even_approuve in even_approuves %}

                <div class="single-package-item">
                    <div>
                        <a href="{{ path('detail', {'id':even_approuve.id}) }}" >
                            <div class="col-md-3 ">
                                <div class="card" style="width: 20rem; height: 28rem; margin-bottom: 20px">
                                    <img src="{{ asset('uploads/' ~ even_approuve.image_filename)}}" class="card-img-top" height="220" alt="#">
                                    <div class="card-body">
                                        <h5 class="card-title">{{ even_approuve.titre_even }}</h5>
                                        <h6 class="card-title">{{ even_approuve.description_even }} </h6>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    </div>

                    {% endfor %}
                    </div>
<div  id="search">
</div>

    <!-- jquery plugins here-->

    <script src="{{ asset('theme/js/jquery-1.12.1.min.js') }}"></script>
    <!-- popper js -->
    <script src="{{ asset('theme/js/popper.min.js') }}" ></script>
    <!-- bootstrap js -->
    <script src="{{ asset('theme/js/bootstrap.min.js') }}" ></script>
    <!-- magnific popup js -->
    <script src="{{ asset('theme/js/jquery.magnific-popup.js') }}" ></script>
    <!-- carousel js -->
    <script src="{{ asset('theme/js/owl.carousel.min.js') }}" ></script>
    <script src="{{ asset('theme/js/jquery.nice-select.min.js') }}" ></script>
    <!-- slick js -->
    <script src="{{ asset('theme/js/slick.min.js') }}" ></script>
    <script src="{{ asset('theme/js/jquery.counterup.min.js') }}" ></script>
    <script src="{{ asset('theme/js/waypoints.min.js') }}" ></script>
    <script src="{{ asset('theme/js/contact.js') }}" ></script>
    <script src="{{ asset('theme/js/jquery.ajaxchimp.min.js') }}" ></script>
    <script src="{{ asset('theme/js/jquery.form.js') }}" ></script>
    <script src="{{ asset('theme/js/jquery.validate.min.js') }}" ></script>
    <script src="{{ asset('theme/js/mail-script.js') }}" ></script>
    <!-- custom js -->
    <script src="{{ asset('theme/js/custom.js') }}" ></script>

    <script src="{{ asset('theme/js/profile.js') }}" ></script>

<script src="{{ asset('theme/js/jquery.js') }}"></script>
<script
        src="{{asset('https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js')}}">
</script>
<script>
    $( document ).ready(function() {
        var currentRequest = null;
        $("#search").keyup(function(e){
            /* La variable value va prendre la valeur insérer dans le champ de texte
            afin d’effectuer la recherche */
            var value = $(this).val();
            if(currentRequest != null) {
                currentRequest.abort();
            }

            /* Ajax est lancé lors du remplissage du champ texte dont l’id est
            « search » pour faire la recherche */
            currentRequest = $.ajax({

                url : "{{ path('ajaxsearchE') }}",
                type : 'GET',
                data: {
                    'searchValue' : value
                },

                success : function(retour)
                {
                    $('#all').html(retour);

                },
            });
            return false;
        });
    });
</script>

    </body>
{% endblock %}
